# [Gold IV] k개 사과 트리 노드만으로 배를 최대로 수확하기 - 25977 

[문제 링크](https://www.acmicpc.net/problem/25977) 

### 성능 요약

메모리: 34992 KB, 시간: 356 ms

### 분류

그래프 이론, 브루트포스 알고리즘, 그래프 탐색, 트리, 비트마스킹

### 제출 일자

2025년 9월 14일 09:33:47

### 문제 설명

<p><em>n</em>개의 노드와 <em>n </em>- 1개의 간선으로 구성된 트리 T가 있다. 노드 번호는 0부터 <em>n </em>- 1까지이고 0번 노드가 루트이다. 간선에는 가중치가 없다. 트리 T에 있는 각 노드는 사과가 1개 있는 노드, 배가 1개 있는 노드, 사과와 배가 모두 없는 노드로 구분된다. 루트 노드에서 시작하여 이웃한 노드를 방문하면서 배를 수확하려고 한다. 사과가 있는 노드를 최대 k개 방문하면서 배를 수확할 경우, 수확할 수 있는 배의 개수의 최댓값을 출력하자. 여러 번 방문한 노드도 한 번 방문한 것으로 생각한다. 루트 노드도 방문한 노드로 생각한다. 배가 있는 노드를 여러 번 방문해도 최초 한 번만 1개의 배를 수확할 수 있다.</p>

### 입력 

 <p>첫 번째 줄에 노드의 수 <em>n</em>과 정수 <em>k</em>가 공백을 사이에 두고 순서대로 주어진다.</p>

<p>두 번째 줄부터 <em>n </em>- 1개 줄에 걸쳐 간선의 정보가 주어진다. 한 줄에 하나의 간선 정보가 주어진다. 하나의 간선 정보는 부모 노드 번호 <em>p</em>와 자식 노드 번호 <em>c</em>가 공백을 사이에 두고 순서대로 주어진다.</p>

<p>다음 줄에는 0번 노드부터 <em>n </em>- 1번 노드까지 노드의 정보를 나타내는 <em>n</em>개의 정수가 공백을 사이에 두고 순서대로 주어진다. 즉, <em>i</em>번째 수는 <em>i </em>- 1번 노드의 정보를 나타낸다. 노드 정보가 0이면 사과와 배가 없는 경우, 1이면 사과만 1개 있는 경우, 2이면 배만 1개 있는 경우를 나타낸다.</p>

### 출력 

 <p>첫 번째 줄에 문제 조건에 맞는 배의 개수의 최댓값을 출력한다.</p>

