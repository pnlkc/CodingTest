# [Silver I] 가희와 서울 지하철 3호선 - 27884 

[문제 링크](https://www.acmicpc.net/problem/27884) 

### 성능 요약

메모리: 213216 KB, 시간: 340 ms

### 분류

브루트포스 알고리즘, 조합론, 수학

### 제출 일자

2025년 10월 17일 10:09:40

### 문제 설명

<p>가희는 지하철을 타고 가다가 지상역과 지하역이 번갈아 나오는 <strong>롤러코스터 구간</strong>을 발견하였습니다. 롤러코스터 구간에 대한 정의는 아래와 같습니다.</p>

<ul>
	<li><strong>길이가 1</strong>인 구간은 롤러코스터 구간입니다.</li>
	<li>역 <code>s<sub>a</sub></code>번, ... , <code>s<sub>b</sub></code>번까지 롤러코스터 구간이고 아래 두 조건 중 하나를 만족하면 역 <code>s<sub>a</sub></code>, ... <code>s<sub>b</sub>+1</code>번까지의 구간도 롤러코스터 구간입니다.
	<ul>
		<li><code>s<sub>b</sub></code>번 역이 지상역이고, <code>s<sub>b</sub>+1</code>번 역이 지하역입니다.</li>
		<li><code>s<sub>b</sub></code>번 역이 지하역이고, <code>s<sub>b</sub>+1</code>번 역이 지상역입니다.</li>
	</ul>
	</li>
</ul>

<p>예를 들어, 서울 지하철 3호선에서 제일 긴 롤러코스터 구간의 길이는 5입니다. <strong>원흥, 원당, 화정, 대곡, 백석이 지하, 지상, 지하, 지상, 지하역</strong>이기 때문입니다. 서울 지하철 5호선에서 제일 긴 롤러코스터 구간의 길이는 1입니다. <strong>지상역이 하나도 없기 때문입니다.</strong></p>

<p>가희가 타고 다니는 3호선은 아래와 같은 특징이 있습니다.</p>

<ul>
	<li>역의 개수는 <code>n</code>개입니다.</li>
	<li>제일 긴 롤러코스터 구간의 길이는 <code>m</code>입니다.</li>
	<li>환승역은 없으며, 한 역에는 승강장이 유일합니다.</li>
	<li>지상역의 경우, 승강장은 <strong>지상 1층, 2층, 3층, 4층, 5층 중 하나</strong>에 있습니다.</li>
	<li>지하역의 경우, 승강장은 <strong>지하 1층, 2층, 3층, 4층, 5층, 6층, 7층, 8층, 9층, 10층, 11층 중 하나</strong>에 있습니다.</li>
</ul>

<p>가희는 롤러코스터 구간이 긴 3호선에 정신이 팔려서, 정작 중요한 승강장 층수를 적는 것을 까먹었습니다. 그래서, 오빠에게 <code>n</code>개의 역을 모두 돌면서 승강장 층수를 적어 달라고 하였습니다. 오빠는 너무 덜렁대서 위에 있는 조건에만 맞도록 노선에 있는 n개 역의 승강장 층수에 대한 정보를 아무렇게나 적어 가희에게 줄 것입니다.</p>

<p><strong>최소한 한 역 이상의 승강장 층수가 다르면</strong>, 다른 경우로 셉니다. 가희가 오빠에게 받을 수 있는 서로 다른 정보의 개수는 몇 가지인가요?</p>

### 입력 

 <p>첫 번째 줄이 <code>n</code>과 <code>m</code>이 공백으로 구분되어 주어집니다.</p>

<p>그 다음 줄부터 <code>n</code>개의 줄에 <code>n</code>개의 역 이름이 주어집니다. <code>1</code>번 역은 처음에, <code>n</code>번 역은 가장 마지막에 주어집니다.</p>

### 출력 

 <p>문제에 대한 답을 <code>10<sup>9</sup>+7</code>로 나눈 나머지를 출력해 주세요.</p>

